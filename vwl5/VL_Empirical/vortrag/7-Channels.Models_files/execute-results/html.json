{
  "hash": "1c481ef34fbe25d88de31ca0aac7aa42",
  "result": {
    "markdown": "---\neval: false\n---\n\n# Channels\n\n-   Log Investment = `loginvpc`\n-   Log TFP = `ltfp`\n-   INdex Economic Reforms: `marketref`\n-   Trade Share = `ltrade`\n-   Primary Enrollment = `lprienr`\n-   Secondary enrollement = `lsecenr`\n-   Child Mortality = `lmort`\n-   Dummy Unrest = `unrestn`\n\nResult should look like this:\n\n![](../images/2023-11-23_15-43-01.jpg)\n\n## Estimating the Models\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(plm)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nDDCGdata <- haven::read_dta(\"data/DDCGdata.dta\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\npdf <- pdata.frame(DDCGdata, index=c(\"country_name\", \"year\"))\nrm(DDCGdata)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(pdf)\n```\n:::\n\n\n### Investment Share\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmodel1 <- plm(\n  loginvpc ~ dem + plm::lag(y,1:4)+ plm::lag(loginvpc, 1:4), #the equation with country fixed effects\n  model=\"within\", #The fixed effects within estimator\n  data = pdf, \n  effect = \"twoways\"\n  )\nsummary(model1)\n```\n:::\n\n\n### TFP\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmodel2 <- plm(\n  ltfp ~ dem + plm::lag(y,1:4)+ plm::lag(ltfp, 1:4), #the equation with country fixed effects\n  model=\"within\", #The fixed effects within estimator\n  data = pdf, \n  effect = \"twoways\"\n  )\nsummary(model2)\n```\n:::\n\n\n### Reforms\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmodel3 <- plm(\n  marketref ~ dem + plm::lag(y,1:4)+ plm::lag(marketref, 1:4), #the equation with country fixed effects\n  model=\"within\", #The fixed effects within estimator\n  data = pdf, \n  effect = \"twoways\"\n  )\nsummary(model3)\n```\n:::\n\n\n### Trade\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmodel4 <- plm(\n  ltrade2 ~ dem + plm::lag(y,1:4)+ plm::lag(ltrade2, 1:4), #the equation with country fixed effects\n  model=\"within\", #The fixed effects within estimator\n  data = pdf, \n  effect = \"twoways\"\n  )\nsummary(model4)\n```\n:::\n\n\n### Primary Enrollment\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmodel5 <- plm(\n  lprienr ~ dem + plm::lag(y,1:4)+ plm::lag(lprienr, 1:4), #the equation with country fixed effects\n  model=\"within\", #The fixed effects within estimator\n  data = pdf, \n  effect = \"twoways\"\n  )\nsummary(model5)\n```\n:::\n\n\n### Secondary Enrollment\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmodel6 <- plm(\n  lsecenr ~ dem + plm::lag(y,1:4)+ plm::lag(lsecenr, 1:4), #the equation with country fixed effects\n  model=\"within\", #The fixed effects within estimator\n  data = pdf, \n  effect = \"twoways\"\n  )\nsummary(model6)\n```\n:::\n\n\n### Child Mortality\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmodel7 <- plm(\n  lmort ~ dem + plm::lag(y,1:4)+ plm::lag(lmort, 1:4), #the equation with country fixed effects\n  model=\"within\", #The fixed effects within estimator\n  data = pdf, \n  effect = \"twoways\"\n  )\nsummary(model7)\n```\n:::\n\n\n### Unrest\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmodel8 <- plm(\n  unrestn ~ dem + plm::lag(y,1:4)+ plm::lag(unrestn, 1:4), #the equation with country fixed effects\n  model=\"within\", #The fixed effects within estimator\n  data = pdf, \n  effect = \"twoways\"\n  )\nsummary(model8)\n```\n:::\n\n## Additional Infos about the Models\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmodels <- list(model1, model2, model3, model4, model5, model6, model7, model8)\n```\n:::\n\n\n\n### Long Run\n\nCalculate the long run effects for the different models with this Formula:\n\n$$\n\\frac{ \\hat\\beta }{1- \\sum_{j=1}^p \\hat\\gamma_j}\n$$\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlre <- list()\n\nfor (i in 1:8) {\n  beta_hat <- coef(models[[i]])[\"dem\"]\n  gamma_hat <- coef(models[[i]])[6:9]\n  \n  lre[[i]] <- beta_hat / (1 - sum(gamma_hat))\n}\n\nlre <- unlist(lre)\nlre <- round(lre, 2)\n```\n:::\n\n### Persistence\n\nCalculate the persistence for the different models with this Formula:\n\n$$\n\\sum_{j=1}^p \\hat\\gamma_j\n$$\n\n\n::: {.cell}\n\n```{.r .cell-code}\npersistence <- list()\n\nfor (i in 1:8) {\n  gamma_hat <- coef(models[[i]])[6:9]\n  \n  persistence[[i]] <- sum(gamma_hat)\n}\n\npers <- unlist(persistence)\npers <- round(pers, 2)\n```\n:::\n\n\n\n## Creating the Table\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(stargazer)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nstargazer(model1, model2, model3, model4, model5, model6, model7, model8, \n          type = \"text\", \n          title = \"Channels\", \n          dep.var.labels = c(\"Log Investment\", \"Log TFP\", \"Index Economic Reforms\", \"Log Trade Share\", \"Log Primary Enrollment\", \"Log Secondary Enrollment\", \"Log Child Mortality\", \"Dummy Unrest\"), \n          omit.stat = c(\"f\", \"ser\", \"rsq\", \"adj.rsq\"),\n          keep = \"dem\",\n          keep.stat = \"N\",\n          add.lines = list(\n            c(\"Long Run Effect\", lre),\n            c(\"Persistence\", pers)\n          )\n)\n````          \n```\n:::",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}