# Channels

-   Log Investment = `loginvpc`
-   Log TFP = `ltfp`
-   INdex Economic Reforms: `marketref`
-   Trade Share = `ltrade`
-   Primary Enrollment = `lprienr`
-   Secondary enrollement = `lsecenr`
-   Child Mortality = `lmort`
-   Dummy Unrest = `unrestn`

Result should look like this:

![](images/2023-11-23_15-43-01.jpg)

```{r}
library(tidyverse)
library(haven)
library(plm)
```

```{r}
DDCGdata <- read_dta("DDCGdata.dta")

```

```{r}
pdf = pdata.frame(DDCGdata, index=c("country_name", "year"))
head(pdf)
```

### Investment Share

```{r}
model1 <- plm(
  loginvpc ~ dem + plm::lag(y,1:4)+ plm::lag(loginvpc, 1:4), #the equation with country fixed effects
  model="within", #The fixed effects within estimator
  data = pdf, 
  effect = "twoways"
  )
summary(model1)
```

Long Run

```{r}
beta_hat <- coef(model1)["dem"]
gamma_hat <- coef(model1)[2:5]

long_run_effect <- beta_hat / (1 - sum(gamma_hat))
long_run_effect
```

```{r}
pers <- sum(coef(model1)[2:5])
pers
```

## TFP

```{r}
model2 <- plm(
  ltfp ~ dem + plm::lag(y,1:4)+ plm::lag(ltfp, 1:4), #the equation with country fixed effects
  model="within", #The fixed effects within estimator
  data = pdf, 
  effect = "twoways"
  )
summary(model2)
```

### Reforms

```{r}
model3 <- plm(
  marketref ~ dem + plm::lag(y,1:4)+ plm::lag(marketref, 1:4), #the equation with country fixed effects
  model="within", #The fixed effects within estimator
  data = pdf, 
  effect = "twoways"
  )
summary(model3)
```

### Trade

```{r}
model4 <- plm(
  ltrade2 ~ dem + plm::lag(y,1:4)+ plm::lag(y,1:4)+ plm::lag(ltrade2, 1:4), #the equation with country fixed effects
  model="within", #The fixed effects within estimator
  data = pdf, 
  effect = "twoways"
  )
summary(model4)
```
